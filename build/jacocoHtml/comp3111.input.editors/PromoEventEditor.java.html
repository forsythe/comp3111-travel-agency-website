<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PromoEventEditor.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">website</a> &gt; <a href="index.source.html" class="el_package">comp3111.input.editors</a> &gt; <span class="el_source">PromoEventEditor.java</span></div><h1>PromoEventEditor.java</h1><pre class="source lang-java linenums">package comp3111.input.editors;

import java.time.Instant;
import java.util.Date;
import java.util.HashMap;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;

import com.vaadin.data.Binder;
import com.vaadin.data.BinderValidationStatus;
import com.vaadin.data.provider.ListDataProvider;
import com.vaadin.server.Page;
import com.vaadin.spring.annotation.SpringComponent;
import com.vaadin.spring.annotation.UIScope;
import com.vaadin.ui.Button;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.DateTimeField;
import com.vaadin.ui.FormLayout;
import com.vaadin.ui.Grid;
import com.vaadin.ui.Grid.Column;
import com.vaadin.ui.Grid.SelectionMode;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.TextArea;
import com.vaadin.ui.TextField;
import com.vaadin.ui.UI;
import com.vaadin.ui.VerticalLayout;
import com.vaadin.ui.Window;
import com.vaadin.ui.components.grid.HeaderCell;
import com.vaadin.ui.components.grid.HeaderRow;

import comp3111.Utils;
import comp3111.data.DBManager;
import comp3111.data.GridCol;
import comp3111.data.model.Offering;
import comp3111.data.model.PromoEvent;
import comp3111.data.repo.BookingRepository;
import comp3111.data.repo.CustomerRepository;
import comp3111.data.repo.OfferingRepository;
import comp3111.data.repo.PromoEventRepository;
import comp3111.input.converters.ConverterFactory;
import comp3111.input.validators.ValidatorFactory;
import comp3111.view.NotificationFactory;

/**
 * Represents the promo event editor in PromoEventManagementView
 * 
 * @author Forsythe
 *
 */
@SuppressWarnings(&quot;serial&quot;)
@SpringComponent
@UIScope
public class PromoEventEditor extends VerticalLayout {
<span class="fc" id="L56">	private static final Logger log = LoggerFactory.getLogger(PromoEventEditor.class);</span>

<span class="fc" id="L58">	private Grid&lt;PromoEvent&gt; eventGrid = new Grid&lt;&gt;(PromoEvent.class);</span>

	private PromoEvent selectedEvent;

	// subwindow fields
	private ComboBox&lt;Offering&gt; offering;
	private DateTimeField triggerDate;
	private TextField discountMultiplier;
	private TextField maxReservationsPerCustomer;
	private TextField promoCode;
	private TextField promoCodeUses;
	private TextArea customMessage;

	private Button confirmButton;
	private BinderValidationStatus&lt;PromoEvent&gt; validationStatus;

	private BookingRepository bookingRepo;
	private CustomerRepository customerRepo;
	private OfferingRepository offeringRepo;
	private PromoEventRepository promoEventRepo;
	private DBManager dbManager;

<span class="fc" id="L80">	private final HashMap&lt;String, ProviderAndPredicate&lt;?, ?&gt;&gt; gridFilters = new HashMap&lt;String, ProviderAndPredicate&lt;?, ?&gt;&gt;();</span>

	/**
	 * Constructs the editor for creating/editing PromoEvents
	 * 
	 * @param br
	 *            The BookingRepository
	 * @param cr
	 *            The CustomerRepository
	 * @param or
	 *            The OfferingRepository
	 * @param per
	 *            The PromoEventRepository
	 * @param dbm
	 *            The DBManager
	 */
	@Autowired
	public PromoEventEditor(BookingRepository br, CustomerRepository cr, OfferingRepository or,
<span class="fc" id="L98">			PromoEventRepository per, DBManager dbm) {</span>
<span class="fc" id="L99">		this.bookingRepo = br;</span>
<span class="fc" id="L100">		this.customerRepo = cr;</span>
<span class="fc" id="L101">		this.offeringRepo = or;</span>
<span class="fc" id="L102">		this.promoEventRepo = per;</span>
<span class="fc" id="L103">		this.dbManager = dbm;</span>

<span class="fc" id="L105">		Button createEventButton = new Button(&quot;Create new promotional event&quot;);</span>
<span class="fc" id="L106">		Button editEventButton = new Button(&quot;Edit promotional event&quot;);</span>

<span class="fc" id="L108">		HorizontalLayout rowOfButtons = new HorizontalLayout();</span>
<span class="fc" id="L109">		rowOfButtons.addComponent(createEventButton);</span>
<span class="fc" id="L110">		rowOfButtons.addComponent(editEventButton);</span>

		// disable edit
<span class="fc" id="L113">		editEventButton.setEnabled(false);</span>

		// add component to view
<span class="fc" id="L116">		this.addComponent(rowOfButtons);</span>

		// get from GridCol
<span class="pc bpc" id="L119" title="1 of 2 branches missed.">		if (promoEventRepo.findAll() != null) // mockito</span>
<span class="nc" id="L120">			eventGrid.setItems(Utils.iterableToCollection(promoEventRepo.findAll()).stream()</span>
<span class="nc" id="L121">					.sorted((b1, b2) -&gt; b1.getId().compareTo(b2.getId())));</span>

<span class="fc" id="L123">		eventGrid.setWidth(&quot;100%&quot;);</span>
<span class="fc" id="L124">		eventGrid.setSelectionMode(SelectionMode.SINGLE);</span>

<span class="fc" id="L126">		eventGrid.addSelectionListener(event -&gt; {</span>
<span class="nc bnc" id="L127" title="All 2 branches missed.">			if (event.getFirstSelectedItem().isPresent()) {</span>
<span class="nc" id="L128">				selectedEvent = event.getFirstSelectedItem().get();</span>
<span class="nc" id="L129">				editEventButton.setEnabled(true);</span>
<span class="nc" id="L130">				createEventButton.setEnabled(false);</span>
			} else {
<span class="nc" id="L132">				selectedEvent = null;</span>
<span class="nc" id="L133">				editEventButton.setEnabled(false);</span>
<span class="nc" id="L134">				createEventButton.setEnabled(true);</span>
			}
<span class="nc" id="L136">		});</span>

<span class="fc" id="L138">		eventGrid.setColumnOrder(GridCol.PROMOEVENT_IS_TRIGGERED, GridCol.PROMOEVENT_TRIGGER_DATE,</span>
				GridCol.PROMOEVENT_ID, GridCol.PROMOEVENT_OFFERING, GridCol.PROMOEVENT_CUSTOM_MESSAGE,
				GridCol.PROMOEVENT_MAX_RESERVATIONS_PER_CUSTOMER, GridCol.PROMOEVENT_PROMO_CODE,
				GridCol.PROMOEVENT_PROMO_CODE_USES_LEFT, GridCol.PROMOEVENT_DISCOUNT);

<span class="fc" id="L143">		HeaderRow filterRow = eventGrid.appendHeaderRow();</span>

<span class="fc bfc" id="L145" title="All 2 branches covered.">		for (Column&lt;PromoEvent, ?&gt; col : eventGrid.getColumns()) {</span>
<span class="fc" id="L146">			col.setMinimumWidth(160);</span>
<span class="fc" id="L147">			col.setHidable(true);</span>
<span class="fc" id="L148">			col.setExpandRatio(1);</span>
<span class="fc" id="L149">			col.setHidingToggleCaption(col.getCaption());</span>
<span class="fc" id="L150">			HeaderCell cell = filterRow.getCell(col.getId());</span>

			// Have an input field to use for filter
<span class="fc" id="L153">			TextField filterField = new TextField();</span>
<span class="fc" id="L154">			filterField.setWidth(130, Unit.PIXELS);</span>
<span class="fc" id="L155">			filterField.setHeight(30, Unit.PIXELS);</span>

<span class="fc" id="L157">			filterField.addValueChangeListener(change -&gt; {</span>
<span class="nc" id="L158">				String searchVal = change.getValue();</span>
<span class="nc" id="L159">				String colId = col.getId();</span>

<span class="nc" id="L161">				log.info(&quot;Value change in col [{}], val=[{}]&quot;, colId, searchVal);</span>
<span class="nc" id="L162">				ListDataProvider&lt;PromoEvent&gt; dataProvider = (ListDataProvider&lt;PromoEvent&gt;) eventGrid.getDataProvider();</span>

<span class="nc bnc" id="L164" title="All 2 branches missed.">				if (!filterField.isEmpty()) {</span>
					try {
						// note: if we keep typing into same textfield, we will overwrite the old filter
						// for this column, which is desirable (rather than having filters for &quot;h&quot;,
						// &quot;he&quot;, &quot;hel&quot;, etc
<span class="nc" id="L169">						gridFilters.put(colId, FilterFactory.getFilterForPromoEvent(colId, searchVal));</span>
<span class="nc" id="L170">						log.info(&quot;updated filter on attribute [{}]&quot;, colId);</span>

<span class="nc" id="L172">					} catch (Exception e) {</span>
<span class="nc" id="L173">						log.info(&quot;ignoring val=[{}], col=[{}] is invalid&quot;, searchVal, colId);</span>
<span class="nc" id="L174">					}</span>
				} else {
					// the filter field was empty, so try
					// removing the filter associated with this col
<span class="nc" id="L178">					gridFilters.remove(colId);</span>
<span class="nc" id="L179">					log.info(&quot;removed filter on attribute [{}]&quot;, colId);</span>

				}
<span class="nc" id="L182">				dataProvider.clearFilters();</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">				for (String colFilter : gridFilters.keySet()) {</span>
<span class="nc" id="L184">					ProviderAndPredicate paf = gridFilters.get(colFilter);</span>
<span class="nc" id="L185">					dataProvider.addFilter(paf.provider, paf.predicate);</span>
<span class="nc" id="L186">				}</span>
<span class="nc" id="L187">				dataProvider.refreshAll();</span>
<span class="nc" id="L188">			});</span>
<span class="fc" id="L189">			cell.setComponent(filterField);</span>

<span class="fc" id="L191">		}</span>

<span class="fc" id="L193">		this.addComponent(eventGrid);</span>

<span class="fc" id="L195">		createEventButton.addClickListener(event -&gt; {</span>
<span class="nc" id="L196">			getUI();</span>
<span class="nc" id="L197">			UI.getCurrent().addWindow(getSubwindow(new PromoEvent()));</span>
<span class="nc" id="L198">		});</span>

<span class="fc" id="L200">		editEventButton.addClickListener(event -&gt; {</span>
<span class="nc bnc" id="L201" title="All 2 branches missed.">			if (canEditEvent(selectedEvent)) {</span>
<span class="nc" id="L202">				getUI();</span>
<span class="nc" id="L203">				UI.getCurrent().addWindow(getSubwindow(selectedEvent));</span>
			}
<span class="nc" id="L205">		});</span>
<span class="fc" id="L206">	}</span>

	/**
	 * Check whether a promo event is editable or not based on offering start date
	 * and current date
	 * 
	 * @param event
	 *            The promoevent
	 * @return Whether it is editable
	 */
	public boolean canEditEvent(PromoEvent event) {
<span class="fc bfc" id="L217" title="All 2 branches covered.">		if (event == null)</span>
<span class="fc" id="L218">			return false;</span>

<span class="fc" id="L220">		Date today = Date.from(Instant.now());</span>
<span class="fc" id="L221">		Date triggerDate = event.getTriggerDate();</span>

<span class="fc bfc" id="L223" title="All 2 branches covered.">		if (today.after(triggerDate)) {</span>
<span class="pc bpc" id="L224" title="1 of 2 branches missed.">			if (Page.getCurrent() != null) // mockito</span>
<span class="nc" id="L225">				NotificationFactory</span>
<span class="nc" id="L226">						.getTopBarWarningNotification(</span>
								&quot;It's too late to edit this promotion, it triggered on: &quot; + triggerDate, 5)
<span class="nc" id="L228">						.show(Page.getCurrent());</span>
<span class="fc" id="L229">			return false;</span>
		}
<span class="fc" id="L231">		return true;</span>
	}

	/**
	 * Gets the popup window for creating/editing PromoEvents
	 * 
	 * @param promoEvent
	 *            A transient or detached PromoEvent object
	 * @return The window
	 */
	public Window getSubwindow(PromoEvent promoEvent) {
		Window subwindow;

		// Creating the confirm button
<span class="fc" id="L245">		confirmButton = new Button(&quot;Confirm&quot;);</span>
<span class="fc" id="L246">		confirmButton.setId(&quot;confirm_event&quot;);</span>

<span class="fc" id="L248">		offering = new ComboBox&lt;Offering&gt;(&quot;Offering&quot;);</span>
<span class="fc" id="L249">		triggerDate = Utils.getDateTimeFieldWithOurLocale(&quot;Trigger Date&quot;);</span>
<span class="fc" id="L250">		discountMultiplier = new TextField(&quot;Discount Multiplier&quot;);</span>
<span class="fc" id="L251">		maxReservationsPerCustomer = new TextField(&quot;Max Reservations/Customer&quot;);</span>
<span class="fc" id="L252">		promoCode = new TextField(&quot;Promo Code&quot;);</span>
<span class="fc" id="L253">		promoCodeUses = new TextField(&quot;Promo Code Max Use Count&quot;);</span>
<span class="fc" id="L254">		customMessage = new TextArea(&quot;Message&quot;);</span>

<span class="fc" id="L256">		offering.setPopupWidth(null);</span>

<span class="fc bfc" id="L258" title="All 2 branches covered.">		if (promoEvent.getId() == null) { // passed in an unsaved object</span>
<span class="fc" id="L259">			subwindow = new Window(&quot;Create new promotional event&quot;);</span>
		} else {
<span class="fc" id="L261">			subwindow = new Window(&quot;Edit a promotional event&quot;);</span>
		}

<span class="fc" id="L264">		FormLayout form = new FormLayout();</span>
<span class="fc" id="L265">		VerticalLayout formContainer = new VerticalLayout();</span>
<span class="fc" id="L266">		formContainer.addComponent(form);</span>

<span class="fc" id="L268">		subwindow.setWidth(&quot;800px&quot;);</span>
<span class="fc" id="L269">		subwindow.setContent(formContainer);</span>
<span class="fc" id="L270">		subwindow.center();</span>
<span class="fc" id="L271">		subwindow.setClosable(false);</span>
<span class="fc" id="L272">		subwindow.setModal(true);</span>
<span class="fc" id="L273">		subwindow.setResizable(false);</span>
<span class="fc" id="L274">		subwindow.setDraggable(false);</span>

<span class="fc" id="L276">		offering.setWidth(300, Unit.PIXELS);</span>
<span class="fc" id="L277">		triggerDate.setWidth(300, Unit.PIXELS);</span>
<span class="fc" id="L278">		discountMultiplier.setWidth(300, Unit.PIXELS);</span>
<span class="fc" id="L279">		maxReservationsPerCustomer.setWidth(300, Unit.PIXELS);</span>
<span class="fc" id="L280">		promoCode.setWidth(300, Unit.PIXELS);</span>
<span class="fc" id="L281">		promoCodeUses.setWidth(300, Unit.PIXELS);</span>
<span class="fc" id="L282">		customMessage.setWidth(300, Unit.PIXELS);</span>

<span class="fc" id="L284">		form.addComponent(offering);</span>
<span class="fc" id="L285">		form.addComponent(triggerDate);</span>
<span class="fc" id="L286">		form.addComponent(discountMultiplier);</span>
<span class="fc" id="L287">		form.addComponent(maxReservationsPerCustomer);</span>
<span class="fc" id="L288">		form.addComponent(promoCode);</span>
<span class="fc" id="L289">		form.addComponent(promoCodeUses);</span>
<span class="fc" id="L290">		form.addComponent(customMessage);</span>

<span class="fc bfc" id="L292" title="All 2 branches covered.">		if (promoEvent.getId() != null) {</span>
			// Old promo code cannot be changed to make our life easier
<span class="fc" id="L294">			promoCode.setReadOnly(true);</span>
		}

<span class="fc" id="L297">		HorizontalLayout buttonActions = new HorizontalLayout();</span>
<span class="fc" id="L298">		buttonActions.addComponent(confirmButton);</span>
<span class="pc" id="L299">		buttonActions.addComponent(new Button(&quot;Cancel&quot;, event -&gt; subwindow.close()));</span>
<span class="fc" id="L300">		form.addComponent(buttonActions);</span>

<span class="pc bpc" id="L302" title="1 of 2 branches missed.">		if (offeringRepo.findAll() != null) // mockito</span>
<span class="nc" id="L303">			offering.setItems(Utils.iterableToCollection(offeringRepo.findAll()).stream()</span>
<span class="nc" id="L304">					.sorted((c1, c2) -&gt; c1.getId().compareTo(c2.getId())));</span>

<span class="fc" id="L306">		Binder&lt;PromoEvent&gt; binder = new Binder&lt;PromoEvent&gt;();</span>

<span class="fc" id="L308">		binder.forField(offering).asRequired(Utils.generateRequiredError())</span>
<span class="fc" id="L309">				.withValidator(ValidatorFactory.getOfferingStillOpenValidator())</span>
<span class="fc" id="L310">				.bind(PromoEvent::getOffering, PromoEvent::setOffering);</span>

<span class="fc" id="L312">		binder.forField(triggerDate).asRequired(Utils.generateRequiredError())</span>
<span class="fc" id="L313">				.withConverter(ConverterFactory.getLocalDateTimeToUtilDateTimeConverter())</span>
<span class="fc" id="L314">				.withValidator(ValidatorFactory.getDateIsEarlierThanOfferingLastEditableDateValidator(offering))</span>
<span class="fc" id="L315">				.withValidator(ValidatorFactory.getDateNotEarlierThanValidator(Date.from(Instant.now())))</span>
<span class="fc" id="L316">				.bind(PromoEvent::getTriggerDate, PromoEvent::setTriggerDate);</span>

<span class="fc" id="L318">		binder.forField(discountMultiplier).asRequired(Utils.generateRequiredError())</span>
<span class="fc" id="L319">				.withConverter(ConverterFactory.getStringToDoubleConverter())</span>
<span class="fc" id="L320">				.withValidator(ValidatorFactory.getDoubleRangeValidator(0, 1))</span>
<span class="fc" id="L321">				.bind(PromoEvent::getDiscount, PromoEvent::setDiscount);</span>

<span class="fc" id="L323">		binder.forField(maxReservationsPerCustomer).asRequired(Utils.generateRequiredError())</span>
<span class="fc" id="L324">				.withConverter(ConverterFactory.getStringToIntegerConverter())</span>
<span class="fc" id="L325">				.withValidator(ValidatorFactory.getIntegerRangeValidator(1))</span>
<span class="fc" id="L326">				.bind(PromoEvent::getMaxReservationsPerCustomer, PromoEvent::setMaxReservationsPerCustomer);</span>

		// For old promo event, the code cannot be changed to make our life easier
<span class="fc" id="L329">		binder.forField(promoCode).asRequired(Utils.generateRequiredError())</span>
<span class="fc" id="L330">				.withValidator(ValidatorFactory.getStringLengthValidator(255))</span>
<span class="fc" id="L331">				.withValidator(ValidatorFactory.getStringNotEqualsToIgnoreCaseValidator(&quot;none&quot;))</span>
<span class="fc" id="L332">				.bind(PromoEvent::getPromoCode, PromoEvent::setPromoCode);</span>

<span class="fc" id="L334">		binder.forField(promoCodeUses).asRequired(Utils.generateRequiredError())</span>
<span class="fc" id="L335">				.withConverter(ConverterFactory.getStringToIntegerConverter())</span>
<span class="fc" id="L336">				.withValidator(ValidatorFactory.getIntegerRangeValidator(1))</span>
<span class="fc" id="L337">				.bind(PromoEvent::getPromoCodeUsesLeft, PromoEvent::setPromoCodeUsesLeft);</span>

<span class="fc" id="L339">		binder.forField(customMessage).asRequired(Utils.generateRequiredError())</span>
<span class="fc" id="L340">				.withValidator(ValidatorFactory.getStringLengthValidator(255))</span>
<span class="fc" id="L341">				.bind(PromoEvent::getCustomMessage, PromoEvent::setCustomMessage);</span>

<span class="fc" id="L343">		binder.setBean(promoEvent);</span>

<span class="fc" id="L345">		confirmButton.addClickListener(event -&gt; {</span>
<span class="fc" id="L346">			validationStatus = binder.validate();</span>

<span class="fc" id="L348">			String errors = ValidatorFactory.getValidatorErrorsString(validationStatus);</span>

<span class="fc bfc" id="L350" title="All 2 branches covered.">			if (validationStatus.isOk()) {</span>
<span class="fc" id="L351">				binder.writeBeanIfValid(promoEvent);</span>
<span class="fc" id="L352">				log.info(&quot;About to save promo event [{}]&quot;, promoEvent);</span>

<span class="fc bfc" id="L354" title="All 2 branches covered.">				if (promoEvent.getId() == null</span>
<span class="pc bpc" id="L355" title="1 of 2 branches missed.">						&amp;&amp; promoEventRepo.findOneByPromoCode(promoEvent.getPromoCode()) != null) {</span>
<span class="nc" id="L356">					errors += &quot;Promo code already used!\n&quot;;</span>
				} else {
<span class="fc" id="L358">					promoEventRepo.save(promoEvent);</span>
<span class="fc bfc" id="L359" title="All 2 branches covered.">					if (promoEvent.getId() == null) {</span>
<span class="fc" id="L360">						log.info(&quot;Saved a new promo event [{}] successfully&quot;, promoEvent);</span>
					} else {
<span class="fc" id="L362">						log.info(&quot;Saved an edited booking [{}] successfully&quot;, promoEvent);</span>
					}

<span class="fc" id="L365">					binder.removeBean();</span>
<span class="fc" id="L366">					this.refreshData();</span>
<span class="fc" id="L367">					subwindow.close();</span>
<span class="pc bpc" id="L368" title="1 of 2 branches missed.">					if (Page.getCurrent() != null) // mockito</span>
<span class="nc" id="L369">						NotificationFactory.getTopBarSuccessNotification().show(Page.getCurrent());</span>

<span class="fc" id="L371">					return; // This return skip the error reporting procedure below</span>
				}
			}
<span class="pc bpc" id="L374" title="1 of 2 branches missed.">			if (Page.getCurrent() != null) // mockito</span>
<span class="nc" id="L375">				NotificationFactory.getTopBarWarningNotification(errors, 5).show(Page.getCurrent());</span>

<span class="fc" id="L377">		});</span>

<span class="fc" id="L379">		return subwindow;</span>
	}

	/**
	 * Refreshes the data in the vaadin grid
	 */
	public void refreshData() {

<span class="pc bpc" id="L387" title="1 of 2 branches missed.">		if (promoEventRepo.findAll() != null) {// mockito</span>
<span class="nc" id="L388">			ListDataProvider&lt;PromoEvent&gt; provider = new ListDataProvider&lt;&gt;(</span>
<span class="nc" id="L389">					Utils.iterableToCollection(promoEventRepo.findAll()));</span>
<span class="nc" id="L390">			eventGrid.setDataProvider(provider);</span>
		}
<span class="fc" id="L392">	}</span>

	/**
	 * @return the offering field
	 */
	public ComboBox&lt;Offering&gt; getOffering() {
<span class="fc" id="L398">		return offering;</span>
	}

	/**
	 * @return the triggerDate field
	 */
	public DateTimeField getTriggerDate() {
<span class="fc" id="L405">		return triggerDate;</span>
	}

	/**
	 * @return the discountMultiplier field
	 */
	public TextField getDiscountMultiplier() {
<span class="fc" id="L412">		return discountMultiplier;</span>
	}

	/**
	 * @return the maxReservationsPerCustomer field
	 */
	public TextField getMaxReservationsPerCustomer() {
<span class="fc" id="L419">		return maxReservationsPerCustomer;</span>
	}

	/**
	 * @return the promoCode field
	 */
	public TextField getPromoCode() {
<span class="fc" id="L426">		return promoCode;</span>
	}

	/**
	 * @return the promoCodeUses field
	 */
	public TextField getPromoCodeUses() {
<span class="fc" id="L433">		return promoCodeUses;</span>
	}

	/**
	 * @return the customMessage field
	 */
	public TextArea getCustomMessage() {
<span class="fc" id="L440">		return customMessage;</span>
	}

	/**
	 * @return the confirmButton
	 */
	public Button getConfirmButton() {
<span class="fc" id="L447">		return confirmButton;</span>
	}

	/**
	 * @return the validationStatus
	 */
	public BinderValidationStatus&lt;PromoEvent&gt; getValidationStatus() {
<span class="fc" id="L454">		return validationStatus;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>